const regMail=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;function validate(){let a=document.getElementById("email"),i=document.getElementById("password");if(i.setCustomValidity(""),a.setCustomValidity(""),regMail.test(a.value.toLowerCase()))if(8<=!i.value.length)i.setCustomValidity("Your password is to short!"),i.reportValidity();else{let e=new FormData;e.append("email",a.value),e.append("password",i.value);let t=new XMLHttpRequest;t.open("POST","/index.php?page=authLogin"),t.send(e),t.onreadystatechange=function(){var e;4===t.readyState&&200===t.status&&("email"===(e=JSON.parse(t.responseText)).error?(a.setCustomValidity("Your email is invalid!"),a.reportValidity()):"pass"===e.error?(i.setCustomValidity("Your password is wrong!"),i.reportValidity()):"server"===e.error?alert("There is something wrong. Please try again later"):document.location.href="/")}}else a.setCustomValidity("Your email is invalid!"),a.reportValidity()}