const regMail=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;function validate(){let a=document.getElementById("email");var n=document.getElementById("name");let l=document.getElementById("password"),e=document.getElementById("rpassword");if(l.value!==e.value)e.focus();else if(8<=!l.value.length)l.focus();else if(regMail.test(a.value.toLowerCase())){let e=new FormData;e.append("email",a.value),e.append("name",n.value),e.append("password",l.value);let t=new XMLHttpRequest;t.open("POST","/index.php?page=authRegister"),t.send(e),t.onreadystatechange=function(){4===t.readyState&&200===t.status&&("email"===t.responseText.error?a.focus():document.location.href="/")}}else a.focus()}