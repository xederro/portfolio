const regMail=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;function validate(){let a=document.getElementById("email"),s=document.getElementById("name"),i=document.getElementById("message");if(a.setCustomValidity(""),s.setCustomValidity(""),i.setCustomValidity(""),regMail.test(a.value.toLowerCase()))if(s.value.length<1)s.setCustomValidity("Your name is empty"),s.reportValidity();else if(i.value.length<10)i.setCustomValidity("Your message is to short!"),i.reportValidity();else{let e=new FormData;e.append("email",a.value),e.append("name",s.value),e.append("message",i.value);let t=new XMLHttpRequest;t.open("POST","/index.php?page=contact"),t.send(e),t.onreadystatechange=function(){4===t.readyState&&200===t.status&&("server"===JSON.parse(t.responseText).error?alert("There is something wrong. Please try again later"):document.location.href="/")}}else a.setCustomValidity("Your email is invalid!"),a.reportValidity()}