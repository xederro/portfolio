function validate(){let a=document.getElementById("name"),s=document.getElementById("password"),o=document.getElementById("rpassword"),r=document.getElementById("npassword");if(a.setCustomValidity(""),s.setCustomValidity(""),r.setCustomValidity(""),o.setCustomValidity(""),r.value!==o.value)o.setCustomValidity("Your passwords don't match!"),o.reportValidity();else if(s.value.length<8)s.setCustomValidity("Your password is required!"),s.reportValidity();else if(0!==r.value&&0!==o.value.length)r.value.length<8?(r.setCustomValidity("Your password is to short!"),r.reportValidity()):/[0-9]/.test(r.value)?/[a-z]/.test(r.value)?/[A-Z]/.test(r.value)||(r.setCustomValidity("Your password should contain at least one upper case!"),r.reportValidity()):(r.setCustomValidity("Your password should contain at least one lower case!"),r.reportValidity()):(r.setCustomValidity("Your password should contain at least one digit!"),r.reportValidity());else{let e=new FormData;e.append("name",a.value),e.append("password",s.value),0!==r.value&&0!==o.value.length&&e.append("npassword",r.value);let t=new XMLHttpRequest;t.open("POST","/index.php?page=authUpdate"),t.send(e),t.onreadystatechange=function(){var e;4===t.readyState&&200===t.status&&("server"===(e=JSON.parse(t.responseText)).error?alert("There is something wrong. Please try again later"):"pass"===e.error?(s.setCustomValidity("Your password is wrong!"),s.reportValidity()):document.location.href="/")}}}