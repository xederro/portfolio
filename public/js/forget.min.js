const regMail=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;function validate(){let a=document.getElementById("email");if(a.setCustomValidity(""),regMail.test(a.value.toLowerCase())){let e=new FormData;e.append("email",a.value);let t=new XMLHttpRequest;t.open("POST","/index.php?page=authForget"),t.send(e),t.onreadystatechange=function(){var e;4===t.readyState&&200===t.status&&(e=JSON.parse(t.responseText),console.log(e),"server"===e.error?alert("There is something wrong. Please try again later"):"email"===e.error?(a.setCustomValidity("Your email is wrong!"),a.reportValidity()):"token"===e.error?alert("There is something wrong. Please try again later"):document.location.href="/")}}else a.setCustomValidity("Your email is invalid!"),a.reportValidity()}